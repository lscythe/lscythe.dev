---
import { Image } from "astro:assets";

import barBorder from "../assets/images/border.webp";
import pattern from "../assets/images/pattern.webp";
import crest from "../assets/images/crest.webp";

const barBorderUrl = `url(${barBorder.src})`;
const patternUrl = `url(${pattern.src})`;

const current = Astro.url.pathname;
const navItems = [
    { title: "The Memoir", link: "#about" },
    { title: "The Gallery", link: "#projects" },
    { title: "The Registry", link: "#contact" },
    { title: "The Ledger", link: "/resume.pdf" },
];
---

<div class="navbar">
    <div class="navbar-decoration">
        <a href="/">
            <Image src={crest} alt="A Family Crest" class="crest-img" />
        </a>
        <nav class="navbar-items">
            <ul>
                {
                    navItems.map((item) => (
                        <li>
                            <a href={item.link}>{item.title}</a>
                        </li>
                    ))
                }
            </ul>
        </nav>
    </div>
</div>

<style define:vars={{ barBorderUrl, patternUrl }}>
    .navbar {
        position: sticky;
        top: 0;
        z-index: 10;
        padding: 4rem 8rem 0;
    }

    .navbar-decoration {
        display: flex;
        position: relative;
        justify-content: space-between;
        align-items: center;
        z-index: 1;
        max-height: 6rem;

        inset: 0;
        background: var(--main-gradient-bg);

        border-image: var(--barBorderUrl) 306 280 313 280 fill / 306px 280px
            313px 280px;
        border-image-repeat: repeat;
        border-image-width: 8rem;
        border-image-outset: 1rem;
    }

    .navbar-decoration::before {
        content: "";
        position: absolute;
        inset: 0;
        z-index: 0;
        pointer-events: none;

        background-image: var(--patternUrl);
        opacity: 0.06;
        background-position: center;
        background-size: 40%;
    }

    .crest-img {
        width: 11rem;
        height: auto;
        margin: 0 8rem;
    }

    .navbar-items {
        position: relative;
        padding-right: 2rem;
    }

    .navbar-items ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        gap: 3rem;
    }

    .navbar-items a {
        text-decoration: none;
        font-family: "MedievalSharp", cursive;
        font-weight: bold;
        font-size: 1.4em;
        color: #fff;
    }
</style>
